<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css?family=Jua%7CManuale%7CUnlock%7CViga&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Chango&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!--ICON-->
    <link rel="icon" type="image/png" href="https://tiffany-lam.github.io/coffeeDripper/images/coffeeCup.png">

    <title>CoffeeDrip</title>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="Style.css">
    <link rel = "stylesheet" href="formStyle.css">
</head>
<body>
    <div class = "logo">
        <a href = /index.html>Caffeinate</a>
    </div>
    <div id = formThing>
        <h3>How long do you want to stay up?</h3>
        <input class ="input1" type="number" id="hours" name = "hours"> </input> hours
        <br>
        <button class ="button4" onclick = "math(); refresh()"  > SUBMIT</button>
    
        <p id="valueDisplay">???</p>
        <p id = "cupsText">cups of coffee</p>
        <div class = "emoji">â˜• </div>
        <!--Adding math calculations-->
        <script type = "text/javascript">
            function refresh(){
                $("#hours").on("input", function() {
                    history.go(0);
                 });
            }
          
            function math(){
                
                var hours = document.getElementById("hours").value;
                //caffeine has half life of 5hrs 
                //
                var coffeeMg = (hours/5) * 50
                //95 mg of caffeine in ONE cup of coffee
                var cups = coffeeMg / 95;
                var roundedCups = Math.round(cups*10)/10; //rounded to 1 decimal place
                var roundedCups2 = Math.round(cups); //rounded to 1 fullsize 
                var returnValue = roundedCups;
                document.getElementById("valueDisplay") .innerHTML = roundedCups;

                var cupCount = roundedCups2;
                var x = 0
                var columnCount = 'column' + x.toString()

                $(document).ready(function(){
                    for (var i = 0; i < cupCount; i++){
                        setTimeout(function(){$('#row').append("<div><div class='cup'><div class='coffee'></div></div><div class='handleShadow'><div class='handle'></div></div></div>")}, i*500)
                    }
                
                });
                
            }
            var coffee = document.querySelector('.coffee');
            var bottom = -170;

            window.addEventListener('load', function(){
                move();
            });

            function move(){
                var id = setInterval(frame, 2000);

                function frame(){
                    if (bottom >= -120){
                        coffee.style.bottom = bottom + "%";
                        bottom = bottom - 25;
                    }else{
                        coffee.style.bottom = bottom + "%";
                        bottom = bottom - -25;
                    }
                }
            }
        
                
        </script>
    </div>    
    <div class="row" id ="row"> </div><!--close for row-->

    <div id = "formThing">
        <p id = "warningText">We calculate with 95 mg of caffeine per cup. Depending on your caffeine tolerance, this amount may vary. This value is calculated for someone with a normal tolerance. Be aware that the safe amount of daily consuption is about 400 mg (about 4 cups). Please do not take all your cups at once, it's a <em>process</em>! Take the cups intermittently.</p>
        
    </div>
    
</body>
</html>